<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">

    <!-- Rate limiting for Stripe payment endpoint -->
    <type name="Stripe\Checkout\Controller\Checkout\CreatePaymentIntent">
        <plugin name="stripe_rate_limit" type="Custom\RateLimit\Plugin\PaymentRateLimitPlugin" sortOrder="1"/>
    </type>

    <!-- Rate limiting for Klarna checkout endpoint -->
    <type name="Klarna_Checkout\Controller\Checkout\CreateSession">
        <plugin name="klarna_rate_limit" type="Custom\RateLimit\Plugin\PaymentRateLimitPlugin" sortOrder="1"/>
    </type>

</config>
